{% extends 'base.html' %}

{% block title %}Weather-Based Crop Prediction{% endblock %}
{% block background_image %}'/static/images/home.jpg'{% endblock %}

{% block header_icon %}<i class="bi bi-cloud-sun me-2"></i>{% endblock %}
{% block header_title %}Weather-Based Prediction{% endblock %}

{% block content %}
<h5 class="text-center mb-4 d-flex justify-content-center align-items-center gap-2" style="color:#0f5132;">
    <i class="fas fa-cloud-sun-rain"></i> Enter Weather & Soil Details
</h5>
<form method="POST" novalidate>
    <div class="form-group"><i class="fas fa-flask"></i><input name="N" type="number" class="form-control" placeholder="Nitrogen (kg/ha)" required></div>
    <div class="form-group"><i class="fas fa-tint"></i><input name="P" type="number" class="form-control" placeholder="Phosphorus (kg/ha)" required></div>
    <div class="form-group"><i class="fas fa-leaf"></i><input name="K" type="number" class="form-control" placeholder="Potassium (kg/ha)" required></div>
    <div class="form-group"><i class="fas fa-thermometer-half"></i><input name="temperature" type="number" step="any" class="form-control" placeholder="Temperature (Â°C)" required></div>
    <div class="form-group"><i class="fas fa-tint"></i><input name="humidity" type="number" step="any" class="form-control" placeholder="Humidity (%)" required></div>
    <div class="form-group"><i class="fas fa-water"></i><input name="ph" type="number" step="any" class="form-control" placeholder="pH" required></div>
    <div class="form-group"><i class="fas fa-cloud-rain"></i><input name="rainfall" type="number" step="any" class="form-control" placeholder="Rainfall (mm)" required></div>

    <button type="submit" class="btn btn-success w-100">
        <i class="bi bi-search me-2"></i>Predict Crop
    </button>
</form>

{% if crop %}
<section class="result-box mt-4 text-center">
    <img src="{{ image }}" class="result-image" alt="Image of predicted crop {{ crop }}" />
    <div class="result-text">ðŸŒ¾ Predicted Crop: <strong>{{ crop }}</strong></div>
</section>
{% endif %}

{% if message %}
<p class="error mt-3">{{ message }}</p>
{% endif %}

<a href="/" class="btn btn-outline-secondary btn-home">
    <i class="bi bi-house-door me-2"></i>Back to Home
</a>
{% endblock %}
